The Prototype of Sandbox Games - 沙盒游戏原理
=============================================
引言
----
在这篇文章中我们将讨论设计沙盒游戏的基础和一些基本通用的游戏设计理念

在这里我们使用C++作为实现语言。当然如果你不喜欢C++也没有关系，因为你
可以只看理论部分并将其转化成为你所喜欢的语言。

这篇文章的大多数灵感和设计理念来自Ron Penton写的《MUD游戏编程》一书
感谢Ron为我们写了这样一本好书。同时也感谢苏正泉同志为我们翻译了该作
品

某吧版是插图版本，任何解释或行文上的出入，均以GitHub版为准。

第一章 The World
----------------
在本章我们将创造一个普通的，包含一些常见游戏物件的世界。

但是在我们实际写代码之前，必须先做好设计。如果不加设计就直接将一股脑
的灵感扔到工作台上的话，不用多久你就会遭遇灵感流失的状况。几个月后，
情况就会急转直下。你的工程就会变成一个焦油坑，然后吞没你的一切设计。

我曾经经历过两次这样的问题。因此我需要警告你们不要鲁莽地开始一切。

在本章中我们将创建地图、生物和玩家。至于环境等高级玩意，我们会在后面
的章节中予以补充和完善。

现在我们还不必要立即配置3D引擎之类的大物件。我们会先在控制台里工作一
段时间来确定我们的设计是否可行，是否值得用3D引擎渲染并展示给这个世界。

第一章 第一节 The Grassland
---------------------------
那么我们就从最基本开始吧。我们先创建一个世界。

在我写下（没错，我是写在纸上的）这个标题之前我斟酌了很长一段时间。
因为有两种设计模式，一种是地图包含生物，另一种是生物指向地图。这两种
设计模式各有利弊。最后，因为我们最终会按世界渲染，因此我使用了前者。

*	坐标系统
	
	尽管当前我们还不必要配置渲染系统，不过知道物件在什么位置还是很
	必要的。我们将使用最广泛使用的坐标系——右手坐标系。也就是右手
	拇指、食指和中指两两正交所形成的坐标系。在数学上我们已经有接触。
	还记得学空间向量时候你的感受不？现在需要再次唤起那不是很愉悦的
	回忆了。要谨记，拇指X, 食指Y, 中指Z. 你会发现Y轴正好是竖直轴。
	
	为了方便，我们取地面为0. 也就是用我们所熟知的海拔。同样的，我们
	也可以让X轴成为经度，Z轴成为纬度。
	
	现在我们将其转换为程序，实现成为一个数据类型。我们就将其当做一个
	结构 (`struct') 使用：
	
	<!-- lang:Cpp -->
		struct coor{
			double x, y, z;
		};
	
	在我们完成坐标系统的草图规划之后，我们就能重新回到这个简单世界的
	建造了。
	
	我们打算使用同Minecraft的方块地形系统。当然你可能已经厌倦了。可惜
	我的电脑不是很好，因此就只能支撑这个简单的方块地形系统了。当然也
	可以尝试使用Mesh. Mesh是一个很不错的3D描述格式。但是对于Mesh计算的
	开销也会相应增大。
	
	那么既然需要用方块地形系统就不得不涉及方块。那么首先考虑，如何用
	方块来做一张地图呢？干脆实例化每一个方块然后填进地图么？
	
	这样做的话，考虑一下，仅仅一个坐标就需要3 * 8 = 24字节的内存（32
	位机，下同）。如果需要创建一个Minecraft超平坦地图的话，就需要
	(((unsigned uint64) (1111 1111 1111 1111 1111 1111 1111 1111 1111
	   1111 1111 1111 1111 1111 1111 1111 1111 1111)_2)^2 + 256) * 24
	= 8.1667768061025231222355468628244e+39字节内存。
	即使是放在硬盘里也需要1.020847100762815390279443357853e+39字节。
	你可以说我用哈夫曼编码压缩，数据会大大减小，可就算你能到10%, 这个
	大小也足够撑爆几个硬盘了。
	
	因此，我们将使用指针（喂喂是个正常的程序猿应该都知道，至少都背过
	要用指针了吧）相信大家都已经了解指针的大小永远是4字节（32位机子，
	下同，我就不再写了），简直立省83%. 如果我们继续做优化，就能够做的
	更小了。当然这是后话。
	
	你可能会问，那为什么不用引用呢？引用的大小是0字节啊。因为我们还需要
	更改内容，因此需要用指针而非引用。
	
	